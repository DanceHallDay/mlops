schema: '2.0'
stages:
  preprocessing:
    cmd: python src/preprocessing/data_preprocessing.py
    deps:
    - path: data/item_categories.csv
      md5: 05c62f1bed0c0655924fc62fe921fb56
      size: 3573
    - path: data/items.csv
      md5: effd92430acdb03efca8542f7270e334
      size: 1568417
    - path: data/sales_train.csv
      md5: bc7e53cc48549aba37d690093256facf
      size: 94603866
    - path: data/shops.csv
      md5: beb40ce29c3db609a93b19ebbd1667b1
      size: 2977
    - path: data/test.csv
      md5: aabf81b3af9a427e897aa77f77e8b971
      size: 3182735
    - path: src/preprocessing/data_preprocessing.py
      md5: 1b5edc9610e4606c1dd6de391fb79e3d
      size: 1421
    params:
      params.yaml:
        preprocessing:
          add_lag_features: true
          lags:
          - 1
          - 3
          - 6
          lag_features:
          - item_price
          - item_cnt_day
          - item_revenue
    outs:
    - path: data/preprocessed/train_dataset.csv
      md5: 8da5d666ec27ea5bf336e141fbc69c61
      size: 501866487
  training:
    cmd: python src/hyperparameters.py
    deps:
    - path: data/preprocessed/train_dataset.csv
      md5: 8da5d666ec27ea5bf336e141fbc69c61
      size: 501866487
    - path: src/hyperparameters.py
      md5: 6ea2e8ed86f15823d45b9e1d80867b10
      size: 2967
    params:
      params.yaml:
        cross_validation:
          train_size: 20
          test_size: 7
        model_params:
          iterations: 30
          verbose: 50
          task_type: GPU
          loss_function: RMSE
    outs:
    - path: evaluations/images/fi.png
      md5: 3c98010bb8fda130b990a022351c99cb
      size: 44805
    - path: evaluations/metrics/metrics.json
      md5: edc3e7626cb669e1ac155c6a72936b79
      size: 57
    - path: evaluations/plots/plots_test.csv
      md5: 940b75b8669b53b6a5756d1fa4c664c5
      size: 148
    - path: evaluations/plots/plots_train.csv
      md5: 160e2f1910557f1aee83cc4d435bc261
      size: 149
